<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduTracker - Student Management App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'green-primary': '#10b981',
                        'green-secondary': '#059669',
                        'green-light': '#d1fae5',
                        'green-dark': '#064e3b'
                    }
                }
            }
        }
    </script>
    <style>
        .dark-mode {
            background-color: #111827 !important;
            color: #f9fafb !important;
        }
        .dark-mode .bg-white {
            background-color: #1f2937 !important;
        }
        .dark-mode .bg-gray-50 {
            background-color: #111827 !important;
        }
        .dark-mode .bg-gray-100 {
            background-color: #374151 !important;
        }
        .dark-mode .text-gray-900 {
            color: #f9fafb !important;
        }
        .dark-mode .text-gray-700 {
            color: #d1d5db !important;
        }
        .dark-mode .text-gray-600 {
            color: #9ca3af !important;
        }
        .dark-mode .text-gray-500 {
            color: #6b7280 !important;
        }
        .dark-mode .text-gray-400 {
            color: #9ca3af !important;
        }
        .dark-mode .border-gray-200 {
            border-color: #374151 !important;
        }
        .dark-mode .border-gray-300 {
            border-color: #4b5563 !important;
        }
        .dark-mode .border-gray-600 {
            border-color: #4b5563 !important;
        }
        .dark-mode .shadow-sm {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.4) !important;
        }
        .dark-mode input, .dark-mode select, .dark-mode textarea {
            background-color: #374151 !important;
            color: #f9fafb !important;
            border-color: #4b5563 !important;
        }
        .dark-mode input:focus, .dark-mode select:focus, .dark-mode textarea:focus {
            border-color: #10b981 !important;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1) !important;
        }
        .dark-mode .bg-green-light {
            background-color: #064e3b !important;
        }
        .dark-mode .text-green-secondary {
            color: #34d399 !important;
        }
        .dark-mode .bg-green-100 {
            background-color: #064e3b !important;
        }
        .dark-mode .text-green-800 {
            color: #a7f3d0 !important;
        }
        .dark-mode .bg-green-900 {
            background-color: #064e3b !important;
        }
        .dark-mode .text-green-200 {
            color: #a7f3d0 !important;
        }
        .dark-mode .hover\:bg-gray-200:hover {
            background-color: #4b5563 !important;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50 transition-all duration-300">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">UT</span>
                    </div>
                    <h1 class="text-xl font-semibold text-gray-900">UniTrack</h1>
                </div>
                <button id="darkModeToggle" class="px-3 py-1 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors text-sm font-medium">
                    <span id="darkModeText">Dark</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-6 space-y-8">
        <!-- Schedule Section -->
        <section id="schedule" class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6">
            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4">
                <h2 class="text-xl sm:text-2xl font-semibold text-gray-900">Class Schedule</h2>
                <button id="addScheduleBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm transition-colors w-full sm:w-auto">
                    Add Class
                </button>
            </div>
            <div id="scheduleList" class="space-y-3">
                <div class="text-center py-12 text-gray-500">
                    <p class="text-base">No classes scheduled yet</p>
                    <p class="text-sm text-gray-400">Click "Add Class" to get started</p>
                </div>
            </div>
        </section>

        <!-- Instructors Section -->
        <section id="instructors" class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6">
            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4">
                <h2 class="text-xl sm:text-2xl font-semibold text-gray-900">Instructor Contacts</h2>
                <button id="addInstructorBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm transition-colors w-full sm:w-auto">
                    Add Instructor
                </button>
            </div>
            <div id="instructorList" class="space-y-3">
                <div class="text-center py-12 text-gray-500">
                    <p class="text-base">No instructors added yet</p>
                    <p class="text-sm text-gray-400">Click "Add Instructor" to get started</p>
                </div>
            </div>
        </section>

        <!-- Assignments Section -->
        <section id="assignments" class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6">
            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4">
                <h2 class="text-xl sm:text-2xl font-semibold text-gray-900">Assignments & Reminders</h2>
                <button id="addAssignmentBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm transition-colors w-full sm:w-auto">
                    Add Assignment
                </button>
            </div>
            <div id="assignmentList" class="space-y-3">
                <div class="text-center py-12 text-gray-500">
                    <p class="text-base">No assignments yet</p>
                    <p class="text-sm text-gray-400">Click "Add Assignment" to get started</p>
                </div>
            </div>
        </section>

        <!-- Suggestions Section -->
        <section id="suggestions" class="space-y-6">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6">
                <h2 class="text-xl sm:text-2xl font-semibold text-gray-900 mb-6">Send Suggestion</h2>
                <form id="suggestionForm" class="space-y-4">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                            <select id="suggestionCategory" class="w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-900">
                                <option value="feature">Feature Request</option>
                                <option value="bug">Bug Report</option>
                                <option value="improvement">Improvement</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Subject</label>
                            <input type="text" id="suggestionSubject" class="w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-900" placeholder="Brief description of your suggestion">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Details</label>
                        <textarea id="suggestionDetails" rows="4" class="w-full p-3 border border-gray-300 rounded-lg bg-white text-gray-900" placeholder="Please provide detailed information about your suggestion..."></textarea>
                    </div>
                    <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg transition-colors">
                        Send Suggestion
                    </button>
                </form>
            </div>

            <!-- Sent Suggestions -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6">
                <h3 class="text-lg sm:text-xl font-semibold text-gray-900 mb-4">Your Suggestions</h3>
                <div id="sentSuggestions" class="space-y-3">
                    <div class="text-center py-8 text-gray-500">
                        <p>No suggestions sent yet</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <!-- Schedule Modal -->
    <div id="scheduleModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4">
            <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Add Class Schedule</h3>
            <form id="scheduleForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Subject</label>
                    <input type="text" id="scheduleSubject" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Day</label>
                    <select id="scheduleDay" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                        <option value="Saturday">Saturday</option>
                        <option value="Sunday">Sunday</option>
                    </select>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Start Time</label>
                        <input type="time" id="scheduleStartTime" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">End Time</label>
                        <input type="time" id="scheduleEndTime" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Room</label>
                    <input type="text" id="scheduleRoom" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                </div>
                <div class="flex space-x-3 pt-4">
                    <button type="button" id="cancelSchedule" class="flex-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 py-2 rounded-lg">Cancel</button>
                    <button type="submit" class="flex-1 bg-green-primary text-white py-2 rounded-lg">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Instructor Modal -->
    <div id="instructorModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4">
            <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Add Instructor</h3>
            <form id="instructorForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Name</label>
                    <input type="text" id="instructorName" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Subject</label>
                    <input type="text" id="instructorSubject" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                    <input type="email" id="instructorEmail" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Phone</label>
                    <input type="tel" id="instructorPhone" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Office Hours</label>
                    <input type="text" id="instructorOfficeHours" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="e.g., Mon-Fri 2:00-4:00 PM">
                </div>
                <div class="flex space-x-3 pt-4">
                    <button type="button" id="cancelInstructor" class="flex-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 py-2 rounded-lg">Cancel</button>
                    <button type="submit" class="flex-1 bg-green-primary text-white py-2 rounded-lg">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Assignment Modal -->
    <div id="assignmentModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4">
            <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Add Assignment</h3>
            <form id="assignmentForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Title</label>
                    <input type="text" id="assignmentTitle" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Subject</label>
                    <input type="text" id="assignmentSubject" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Type</label>
                    <select id="assignmentType" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                        <option value="Assignment">Assignment</option>
                        <option value="Project">Project</option>
                        <option value="Exam">Exam</option>
                        <option value="Quiz">Quiz</option>
                        <option value="Reminder">Reminder</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Due Date</label>
                    <input type="date" id="assignmentDate" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Due Time</label>
                    <input type="time" id="assignmentTime" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Description</label>
                    <textarea id="assignmentDescription" rows="3" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"></textarea>
                </div>
                <div class="flex space-x-3 pt-4">
                    <button type="button" id="cancelAssignment" class="flex-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 py-2 rounded-lg">Cancel</button>
                    <button type="submit" class="flex-1 bg-green-primary text-white py-2 rounded-lg">Save</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Data storage
        let schedules = JSON.parse(localStorage.getItem('edutracker_schedules')) || [];
        let instructors = JSON.parse(localStorage.getItem('edutracker_instructors')) || [];
        let assignments = JSON.parse(localStorage.getItem('edutracker_assignments')) || [];
        let suggestions = JSON.parse(localStorage.getItem('edutracker_suggestions')) || [];

        // Dark mode
        const darkModeToggle = document.getElementById('darkModeToggle');
        const darkModeText = document.getElementById('darkModeText');
        const isDarkMode = localStorage.getItem('edutracker_darkmode') === 'true';
        
        if (isDarkMode) {
            document.body.classList.add('dark-mode');
            darkModeText.textContent = 'Light';
        }

        darkModeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            darkModeText.textContent = isDark ? 'Light' : 'Dark';
            localStorage.setItem('edutracker_darkmode', isDark);
        });

        // Smooth scrolling for better UX
        document.documentElement.style.scrollBehavior = 'smooth';

        // Modal functions
        function showModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
            document.getElementById(modalId).classList.add('flex');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.getElementById(modalId).classList.remove('flex');
        }

        // Schedule functions
        document.getElementById('addScheduleBtn').addEventListener('click', () => showModal('scheduleModal'));
        document.getElementById('cancelSchedule').addEventListener('click', () => hideModal('scheduleModal'));

        document.getElementById('scheduleForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const schedule = {
                id: Date.now(),
                subject: document.getElementById('scheduleSubject').value,
                day: document.getElementById('scheduleDay').value,
                startTime: document.getElementById('scheduleStartTime').value,
                endTime: document.getElementById('scheduleEndTime').value,
                room: document.getElementById('scheduleRoom').value
            };
            
            schedules.push(schedule);
            localStorage.setItem('edutracker_schedules', JSON.stringify(schedules));
            renderSchedules();
            hideModal('scheduleModal');
            document.getElementById('scheduleForm').reset();
        });

        function renderSchedules() {
            const container = document.getElementById('scheduleList');
            
            if (schedules.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12 text-gray-500 dark:text-gray-400">
                        <div class="text-6xl mb-4">📅</div>
                        <p class="text-lg">No classes scheduled yet</p>
                        <p class="text-sm">Click "Add Class" to get started</p>
                    </div>
                `;
                return;
            }

            const sortedSchedules = schedules.sort((a, b) => {
                const dayOrder = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
                const dayDiff = dayOrder.indexOf(a.day) - dayOrder.indexOf(b.day);
                if (dayDiff !== 0) return dayDiff;
                return a.startTime.localeCompare(b.startTime);
            });

            container.innerHTML = sortedSchedules.map(schedule => `
                <div class="bg-green-light dark:bg-gray-700 rounded-lg p-4 border-l-4 border-green-primary">
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2">
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-900 dark:text-white text-lg">${schedule.subject}</h3>
                            <p class="text-green-secondary dark:text-green-400 font-medium">${schedule.day}</p>
                            <p class="text-gray-600 dark:text-gray-300">${schedule.startTime} - ${schedule.endTime}</p>
                            ${schedule.room ? `<p class="text-gray-500 dark:text-gray-400">Room: ${schedule.room}</p>` : ''}
                        </div>
                        <button onclick="deleteSchedule(${schedule.id})" class="text-red-500 hover:text-red-700 px-2 py-1 text-sm self-start">
                            Delete
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function deleteSchedule(id) {
            schedules = schedules.filter(s => s.id !== id);
            localStorage.setItem('edutracker_schedules', JSON.stringify(schedules));
            renderSchedules();
        }

        // Instructor functions
        document.getElementById('addInstructorBtn').addEventListener('click', () => showModal('instructorModal'));
        document.getElementById('cancelInstructor').addEventListener('click', () => hideModal('instructorModal'));

        document.getElementById('instructorForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const instructor = {
                id: Date.now(),
                name: document.getElementById('instructorName').value,
                subject: document.getElementById('instructorSubject').value,
                email: document.getElementById('instructorEmail').value,
                phone: document.getElementById('instructorPhone').value,
                officeHours: document.getElementById('instructorOfficeHours').value
            };
            
            instructors.push(instructor);
            localStorage.setItem('edutracker_instructors', JSON.stringify(instructors));
            renderInstructors();
            hideModal('instructorModal');
            document.getElementById('instructorForm').reset();
        });

        function renderInstructors() {
            const container = document.getElementById('instructorList');
            
            if (instructors.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12 text-gray-500 dark:text-gray-400">
                        <div class="text-6xl mb-4">👨‍🏫</div>
                        <p class="text-lg">No instructors added yet</p>
                        <p class="text-sm">Click "Add Instructor" to get started</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = instructors.map(instructor => `
                <div class="bg-white dark:bg-gray-700 rounded-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-600 shadow-sm">
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4 gap-2">
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-900 dark:text-white text-lg sm:text-xl">${instructor.name}</h3>
                            <p class="text-green-secondary dark:text-green-400 font-medium">${instructor.subject}</p>
                        </div>
                        <button onclick="deleteInstructor(${instructor.id})" class="text-red-500 hover:text-red-700 px-2 py-1 text-sm self-start">
                            Delete
                        </button>
                    </div>
                    <div class="space-y-2">
                        ${instructor.email ? `
                            <div class="flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2">
                                <span class="text-gray-500 text-sm font-medium">Email:</span>
                                <a href="mailto:${instructor.email}" class="text-blue-600 hover:underline break-all">${instructor.email}</a>
                            </div>
                        ` : ''}
                        ${instructor.phone ? `
                            <div class="flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2">
                                <span class="text-gray-500 text-sm font-medium">Phone:</span>
                                <a href="tel:${instructor.phone}" class="text-blue-600 hover:underline">${instructor.phone}</a>
                            </div>
                        ` : ''}
                        ${instructor.officeHours ? `
                            <div class="flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2">
                                <span class="text-gray-500 text-sm font-medium">Office Hours:</span>
                                <span class="text-gray-600 dark:text-gray-300">${instructor.officeHours}</span>
                            </div>
                        ` : ''}
                    </div>
                    <div class="flex flex-col sm:flex-row gap-2 mt-4">
                        ${instructor.email ? `
                            <button onclick="window.open('mailto:${instructor.email}', '_blank')" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                                Send Email
                            </button>
                        ` : ''}
                        ${instructor.phone ? `
                            <button onclick="window.open('tel:${instructor.phone}', '_blank')" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                                Call
                            </button>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }

        function deleteInstructor(id) {
            instructors = instructors.filter(i => i.id !== id);
            localStorage.setItem('edutracker_instructors', JSON.stringify(instructors));
            renderInstructors();
        }

        // Assignment functions
        document.getElementById('addAssignmentBtn').addEventListener('click', () => showModal('assignmentModal'));
        document.getElementById('cancelAssignment').addEventListener('click', () => hideModal('assignmentModal'));

        document.getElementById('assignmentForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const assignment = {
                id: Date.now(),
                title: document.getElementById('assignmentTitle').value,
                subject: document.getElementById('assignmentSubject').value,
                type: document.getElementById('assignmentType').value,
                date: document.getElementById('assignmentDate').value,
                time: document.getElementById('assignmentTime').value,
                description: document.getElementById('assignmentDescription').value,
                completed: false
            };
            
            assignments.push(assignment);
            localStorage.setItem('edutracker_assignments', JSON.stringify(assignments));
            renderAssignments();
            hideModal('assignmentModal');
            document.getElementById('assignmentForm').reset();
        });

        function renderAssignments() {
            const container = document.getElementById('assignmentList');
            
            if (assignments.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12 text-gray-500 dark:text-gray-400">
                        <div class="text-6xl mb-4">📝</div>
                        <p class="text-lg">No assignments yet</p>
                        <p class="text-sm">Click "Add Assignment" to get started</p>
                    </div>
                `;
                return;
            }

            const sortedAssignments = assignments.sort((a, b) => {
                if (a.completed !== b.completed) return a.completed - b.completed;
                return new Date(a.date + ' ' + (a.time || '00:00')) - new Date(b.date + ' ' + (b.time || '00:00'));
            });

            container.innerHTML = sortedAssignments.map(assignment => {
                const dueDate = new Date(assignment.date + ' ' + (assignment.time || '00:00'));
                const now = new Date();
                const isOverdue = dueDate < now && !assignment.completed;
                const isDueSoon = dueDate - now < 24 * 60 * 60 * 1000 && dueDate > now && !assignment.completed;

                return `
                    <div class="bg-white dark:bg-gray-700 rounded-lg p-4 border-l-4 ${
                        assignment.completed ? 'border-gray-400 opacity-75' :
                        isOverdue ? 'border-red-500' :
                        isDueSoon ? 'border-yellow-500' :
                        'border-green-primary'
                    }">
                        <div class="flex flex-col sm:flex-row sm:justify-between gap-3">
                            <div class="flex items-start space-x-3 flex-1">
                                <input type="checkbox" ${assignment.completed ? 'checked' : ''} 
                                       onchange="toggleAssignment(${assignment.id})"
                                       class="mt-1 w-5 h-5 text-green-primary rounded flex-shrink-0">
                                <div class="flex-1 min-w-0">
                                    <h3 class="font-semibold text-gray-900 dark:text-white ${assignment.completed ? 'line-through' : ''} break-words">${assignment.title}</h3>
                                    <div class="flex flex-wrap items-center gap-2 text-sm text-gray-600 dark:text-gray-300 mt-1">
                                        <span class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded whitespace-nowrap">${assignment.type}</span>
                                        <span class="break-words">${assignment.subject}</span>
                                    </div>
                                    <p class="text-gray-600 dark:text-gray-300 mt-2">
                                        Due: ${new Date(assignment.date).toLocaleDateString()}
                                        ${assignment.time ? ` at ${assignment.time}` : ''}
                                    </p>
                                    ${assignment.description ? `<p class="text-gray-500 dark:text-gray-400 text-sm mt-2 break-words">${assignment.description}</p>` : ''}
                                    ${isOverdue ? '<p class="text-red-500 text-sm font-medium mt-1">Overdue</p>' : ''}
                                    ${isDueSoon ? '<p class="text-yellow-600 text-sm font-medium mt-1">Due soon</p>' : ''}
                                </div>
                            </div>
                            <button onclick="deleteAssignment(${assignment.id})" class="text-red-500 hover:text-red-700 px-2 py-1 text-sm self-start flex-shrink-0">
                                Delete
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function toggleAssignment(id) {
            const assignment = assignments.find(a => a.id === id);
            if (assignment) {
                assignment.completed = !assignment.completed;
                localStorage.setItem('edutracker_assignments', JSON.stringify(assignments));
                renderAssignments();
            }
        }

        function deleteAssignment(id) {
            assignments = assignments.filter(a => a.id !== id);
            localStorage.setItem('edutracker_assignments', JSON.stringify(assignments));
            renderAssignments();
        }

        // Suggestion functions
        document.getElementById('suggestionForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const suggestion = {
                id: Date.now(),
                category: document.getElementById('suggestionCategory').value,
                subject: document.getElementById('suggestionSubject').value,
                details: document.getElementById('suggestionDetails').value,
                date: new Date().toLocaleDateString(),
                status: 'Sent'
            };
            
            suggestions.push(suggestion);
            localStorage.setItem('edutracker_suggestions', JSON.stringify(suggestions));
            renderSuggestions();
            document.getElementById('suggestionForm').reset();
            
            // Show success message
            alert('Thank you for your suggestion! We appreciate your feedback.');
        });

        function renderSuggestions() {
            const container = document.getElementById('sentSuggestions');
            
            if (suggestions.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                        <p>No suggestions sent yet</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = suggestions.map(suggestion => `
                <div class="bg-gray-50 dark:bg-gray-600 rounded-lg p-4">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-medium text-gray-900 dark:text-white">${suggestion.subject}</h4>
                        <span class="text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded">${suggestion.status}</span>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">${suggestion.details}</p>
                    <div class="flex justify-between items-center text-xs text-gray-500 dark:text-gray-400">
                        <span>${suggestion.category}</span>
                        <span>${suggestion.date}</span>
                    </div>
                </div>
            `).join('');
        }

        // Initialize app
        function initApp() {
            renderSchedules();
            renderInstructors();
            renderAssignments();
            renderSuggestions();
        }

        // Close modals when clicking outside
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('fixed')) {
                const modals = ['scheduleModal', 'instructorModal', 'assignmentModal'];
                modals.forEach(modalId => {
                    if (e.target.id === modalId) {
                        hideModal(modalId);
                    }
                });
            }
        });

        // Initialize the app
        initApp();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'981fb737756bfecc',t:'MTc1ODM1NDQ1Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
